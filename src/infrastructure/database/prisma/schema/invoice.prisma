enum PaymentMethod {
    CASH
    CARD
    PAY_LATER
}

model Invoice {
    id       Int   @id @default(autoincrement())
    discount Float @default(0) // Between 0 and 1
    total    Float
    subtotal Float

    paymentMethod PaymentMethod?
    paid          Boolean        @default(false)

    taxId     Int?
    serviceId Int?
    orderId   Int
    userId    Int
    tableId   Int?

    tax     Tax?     @relation(fields: [taxId], references: [id])
    service Service? @relation(fields: [serviceId], references: [id])
    order   Order    @relation(fields: [orderId], references: [id])
    user    User     @relation(fields: [userId], references: [id])
    table   Table?   @relation(fields: [tableId], references: [id])

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([orderId, userId, tableId])
}
