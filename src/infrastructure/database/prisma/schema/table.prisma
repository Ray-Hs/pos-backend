enum TableStatus {
    AVAILABLE
    OCCUPIED
    RECEIPT
}

model Table {
    id        Int         @id @default(autoincrement())
    name      String      @unique
    capacity  Int         @default(4)
    available Boolean     @default(true)
    orders    Order[]
    status    TableStatus
    createdAt DateTime    @default(now())
    updatedAt DateTime    @updatedAt
    section   Section?    @relation(fields: [sectionId], references: [id])
    sectionId Int?
    invoice   Invoice[]

    @@index([sectionId, status])
}

model Section {
    id   Int    @id @default(autoincrement())
    name String @default("New Section")

    sortOrder Int     @default(0)
    tables    Table[]
    available Int?

    @@index([sortOrder, available])
}
